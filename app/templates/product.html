{% extends "base.html" %}

{% block content %}

<main>
    <div class="prod-container">
      <div class="grid second-nav">
        <div class="column-xs-12">
        </div>
      </div>
      <div class="grid product">
        <div class="column-xs-12 column-md-7">
          <div class="product-gallery">
            <div class="product-image">
              <img class="active" src="https://source.unsplash.com/W1yjvf5idqA">
            </div>
            <ul class="image-list">
              <li class="image-item"><img src="https://source.unsplash.com/W1yjvf5idqA"></li>
            </ul>
          </div>
        </div>
        <div class="column-xs-12 column-md-5">
          <h1>Bonsai</h1>
          <h2>$19.99</h2>
          <div class="description">
            <p>The purposes of bonsai are primarily contemplation for the viewer, and the pleasant exercise of effort and ingenuity for the grower.</p>
            <p>By contrast with other plant cultivation practices, bonsai is not intended for production of food or for medicine. Instead, bonsai practice focuses on long-term cultivation and shaping of one or more small trees growing in a container.</p>
          </div>
          <button class="add-to-cart">Add To Cart</button>
        </div>
      </div>
      <div class="grid related-products">
        <!-- <div class="column-xs-12">
          <h3>You may also like</h3>
        </div>
        <div class="column-xs-12 column-md-4">
          <img src="https://source.unsplash.com/miziNqvJx5M">
          <h4>Succulent</h4>
          <p class="price">$19.99</p>
        </div>
        <div class="column-xs-12 column-md-4">
          <img src="https://source.unsplash.com/2y6s0qKdGZg">
          <h4>Terranium</h4>
          <p class="price">$19.99</p>
        </div>
        <div class="column-xs-12 column-md-4">
          <img src="https://source.unsplash.com/6Rs76hNbIWE">
          <h4>Cactus</h4>
          <p class="price">$19.99</p>
        </div> -->
      </div>
    </div>
</main>

<table class='table table-hover table-bordered container'>
  <thead class="thead-dark">
    <tr>
      <th scope="col">Product ID</th>
      <th scope="col">Product Name</th>
      <th scope="col">Price</th>
    </tr>
  </thead>
  <tbody>
    {% for product in avail_products%}
      <tr>
        <th scope="row">{{product.id}}</th>
        <td>{{product.name}}</td>
        <td>{{product.price}}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>

<script>
    const activeImage = document.querySelector(".product-image .active");
    const productImages = document.querySelectorAll(".image-list img");
    const navItem = document.querySelector('a.toggle-nav');

    function changeImage(e) {
    activeImage.src = e.target.src;
    }

    function toggleNavigation(){
    this.nextElementSibling.classList.toggle('active');
    }

    productImages.forEach(image => image.addEventListener("click", changeImage));
    navItem.addEventListener('click', toggleNavigation);
</script>

{% endblock %}

